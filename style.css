@import url('https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap');

/* ═══════════════════════ RESET ═══════════════════════ */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html,body{
  width:100%;height:100%;
  overflow:hidden;
  background:#1a1b1c;
  font-family:'Space Mono',monospace;
  font-size:12px;
  color:#48494b;
  -webkit-font-smoothing:none;
  image-rendering:pixelated;
}

/* ═══════════════════════ SHARED COMPONENTS ═══════════════════════ */
button{
  font-family:'Space Mono',monospace;
  font-size:10px;font-weight:700;
  letter-spacing:.12em;text-transform:uppercase;
  cursor:pointer;
  border:1.5px solid #48494b;
  padding:10px 20px;
  transition:background 80ms,color 80ms,transform 60ms;
  -webkit-font-smoothing:none;
  border-radius:0;
}
button:active{transform:translateY(1px)}

.btn-primary{background:#48494b;color:#e3e5e4}
.btn-primary:hover:not(:disabled){background:#2a2b2c}
.btn-primary:disabled{background:#ddd;color:#aaa;border-color:#ddd;cursor:default;transform:none}

.btn-ghost{background:#e3e5e4;color:#48494b}
.btn-ghost:hover:not(:disabled){background:#48494b;color:#e3e5e4}
.btn-ghost:disabled{color:#bbb;border-color:#ddd;cursor:default;transform:none}

.btn-back{
  background:none;border:none;
  font-size:9px;color:#8a8b8a;cursor:pointer;
  text-transform:uppercase;letter-spacing:.12em;
  padding:4px 0;font-family:'Space Mono',monospace;
  transition:color 80ms;
}
.btn-back:hover{color:#48494b}

.label{font-size:8px;letter-spacing:.22em;text-transform:uppercase;color:#8a8b8a}
.hidden{display:none!important}

/* ═══════════════════════ SCREENS ═══════════════════════ */
.screen{
  display:none;
  position:fixed;inset:0;
  overflow:hidden;
  z-index:1;
  background:#e3e5e4;
}
.screen.active{display:block}
#screen-game{background:#1a1b1c}

/* ═══════════════════════ TITLE ═══════════════════════ */
#screen-title{
  background:#e3e5e4;
  display:flex;
  align-items:center;
  justify-content:center;
}
#screen-title.active{display:flex}

.title-inner{
  max-width:480px;width:90%;
  text-align:center;
  padding:48px 32px;
}

#logo-canvas{
  image-rendering:pixelated;
  display:block;
  margin:0 auto 20px;
  width:320px;height:107px;
}

.tagline{
  font-size:10px;letter-spacing:.2em;
  color:#8a8b8a;
  font-style:italic;
  margin-bottom:24px;
}

.title-divider{
  width:80px;height:1px;
  background:#48494b;
  margin:0 auto 24px;
}

.sub-text{
  font-size:10px;color:#8a8b8a;
  line-height:2.1;
  margin-bottom:28px;
}

.wallet-addr{
  font-size:9px;color:#48494b;
  margin-bottom:14px;
  word-break:break-all;
  font-weight:700;
  letter-spacing:.04em;
}

.btn-row{
  display:flex;gap:10px;
  justify-content:center;
  flex-wrap:wrap;
  margin-bottom:16px;
}
.btn-row button{padding:12px 28px;font-size:10px}

.fine-print{font-size:8px;color:#bbb;letter-spacing:.08em}

.demo-pill{
  display:none;
  font-size:8px;letter-spacing:.14em;
  border:1px solid #48494b;
  padding:4px 10px;margin-top:12px;
}
.demo-pill.show{display:inline-block}

/* ═══════════════════════ INTRO CUTSCENE ═══════════════════════ */
#screen-intro{background:#1a1b1c}
#screen-intro.active{
  display:flex;align-items:center;justify-content:center;
}

.intro-inner{
  max-width:580px;width:90%;
  padding:60px 32px;
  text-align:center;
}

.intro-chapter{
  font-size:8px;letter-spacing:.35em;
  color:#6a6b6a;
  margin-bottom:24px;
  text-transform:uppercase;
}

.intro-text{
  font-size:14px;line-height:2.3;
  color:#c8c9c8;
  min-height:120px;
  font-style:italic;
  white-space:pre-wrap;
  margin-bottom:28px;
}

.intro-page{font-size:8px;color:#5a5b5a;margin-bottom:16px;letter-spacing:.2em}

.intro-btns{display:flex;gap:12px;justify-content:center}
.intro-btns .btn-primary{background:#c8c9c8;color:#1a1b1c;border-color:#c8c9c8}
.intro-btns .btn-primary:hover{background:#e3e5e4}
.intro-btns .btn-ghost{color:#5a5b5a;border-color:#3a3b3c}
.intro-btns .btn-ghost:hover{background:#3a3b3c;color:#c8c9c8}

/* ═══════════════════════ PARTY SELECT ═══════════════════════ */
#screen-party{
  background:#e3e5e4;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
}
#screen-party.active{display:flex}

.party-layout{
  display:grid;
  grid-template-rows:auto 1fr;
  min-height:100vh;
  max-width:1100px;
  width:100%;
  margin:0 auto;
  padding:0;
}

/* Top: header + slots */
.party-top{
  border-bottom:2px solid #48494b;
  padding:24px 32px 20px;
  background:#e3e5e4;
  position:sticky;top:0;z-index:10;
}

.party-header-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
  margin-bottom:20px;
  flex-wrap:wrap;
}

.party-title-block{}
.party-title{
  font-size:22px;font-weight:700;
  letter-spacing:-.02em;
  line-height:1;
  margin-bottom:4px;
}
.party-subtitle{font-size:9px;letter-spacing:.18em;color:#8a8b8a}

.party-actions{display:flex;align-items:center;gap:12px}
#party-count{font-size:9px;color:#8a8b8a;letter-spacing:.1em}

/* Slots row */
.slots-section{}
.slots-label{font-size:8px;letter-spacing:.2em;color:#8a8b8a;margin-bottom:8px;text-transform:uppercase}

.party-slots{
  display:flex;
  gap:8px;
  flex-wrap:nowrap;
  overflow-x:auto;
  padding-bottom:4px;
}
.party-slots::-webkit-scrollbar{height:2px}
.party-slots::-webkit-scrollbar-thumb{background:#48494b}

.pslot{
  flex-shrink:0;
  width:76px;
  border:1.5px solid #ddd;
  padding:6px;
  position:relative;
  cursor:pointer;
  transition:border-color 80ms,background 80ms;
  background:#f5f5f5;
  min-height:110px;
  display:flex;
  flex-direction:column;
  align-items:center;
}
.pslot.filled{border-color:#48494b;background:#fff}
.pslot.filled:hover{background:#f0f0f0}
.pslot.filled:hover::after{
  content:'✕';
  position:absolute;
  top:3px;right:4px;
  font-size:9px;color:#999;
}
.pslot.empty{border-style:dashed;cursor:default}

.pslot canvas{image-rendering:pixelated;display:block;margin-bottom:4px}
.pslot-num{font-size:18px;color:#ddd;padding:16px 0 12px}
.pslot-name{font-size:7px;color:#888;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;text-align:center}
.pslot-type{font-size:7px;color:#aaa;text-align:center}
.pslot-hp{font-size:7px;color:#bbb;text-align:center;margin-top:2px}

/* Main grid area */
.party-bottom{
  padding:24px 32px 40px;
  overflow-y:auto;
  flex:1;
}

.grid-header-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:14px;
}
.grid-title{font-size:11px;font-weight:700;letter-spacing:.06em}
#col-count{font-size:9px;color:#8a8b8a;margin-left:6px}

.normie-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(96px,1fr));
  gap:8px;
}

.grid-loading{
  grid-column:1/-1;
  padding:48px;
  text-align:center;
  font-size:10px;color:#aaa;
  border:1.5px dashed #ddd;
}

.ncard{
  border:1.5px solid #e0e0e0;
  padding:8px 6px 6px;
  cursor:pointer;
  transition:border-color 80ms,box-shadow 80ms,transform 60ms;
  background:#fff;
  text-align:center;
}
.ncard:hover{
  border-color:#48494b;
  box-shadow:0 2px 8px rgba(0,0,0,0.08);
  transform:translateY(-1px);
}
.ncard.selected,
.ncard.in-party{
  opacity:.25;
  pointer-events:none;
  position:relative;
}
.ncard.in-party::after{
  content:'✓ IN PARTY';
  position:absolute;inset:0;
  display:flex;align-items:center;justify-content:center;
  font-size:8px;letter-spacing:.14em;color:#48494b;
  font-weight:700;
  background:rgba(227,229,228,.6);
}
.ncard canvas{
  image-rendering:pixelated;
  display:block;
  margin:0 auto 5px;
  width:48px!important;height:48px!important;
}
.ncard-id{font-size:7px;color:#8a8b8a;margin-bottom:2px;letter-spacing:.06em}
.ncard-type{font-size:9px;font-weight:700;margin-bottom:2px}
.ncard-stat{font-size:7px;color:#aaa;line-height:1.6}
.ncard-expr{font-size:7px;color:#bbb;font-style:italic}
.ncard-bars{display:flex;flex-direction:column;gap:2px;margin-top:4px}
.ncard-bar-track{height:2px;background:#eee;border-radius:0}
.ncard-bar-fill{height:100%;background:#48494b}

/* ═══════════════════════ GAME WORLD ═══════════════════════ */
#world-canvas{
  display:block;
  position:absolute;
  top:0;left:0;
  image-rendering:pixelated;
  image-rendering:crisp-edges;
}

/* Zone bar */
#zone-bar{
  position:absolute;
  top:12px;
  left:50%;transform:translateX(-50%);
  background:rgba(227,229,228,.92);
  border:1px solid rgba(72,73,75,.25);
  padding:5px 16px;
  display:flex;gap:18px;align-items:center;
  font-size:8px;letter-spacing:.2em;text-transform:uppercase;
  color:#6a6b6a;
  pointer-events:none;
  z-index:10;
  white-space:nowrap;
  backdrop-filter:blur(2px);
}
.zone-hint{color:#bbb;font-size:7px}

/* HUD */
#hud{
  position:absolute;
  bottom:0;left:0;right:0;
  height:58px;
  background:rgba(227,229,228,.96);
  border-top:1.5px solid #48494b;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 16px;
  z-index:10;
  gap:16px;
  backdrop-filter:blur(4px);
}

#hud-lead{flex:1;min-width:0}
.hud-name{font-size:10px;font-weight:700;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
.hud-type{font-size:7px;color:#8a8b8a;margin-bottom:4px;letter-spacing:.06em}
.hud-bars{display:flex;flex-direction:column;gap:3px}
.bar-track{height:3px;background:#d8d9d8;position:relative;overflow:hidden}
.bar-hp{height:100%;background:#3a3b3c;transition:width .25s;position:relative}
.bar-mp{height:100%;background:#8a8b8a;transition:width .25s}
.hud-val{font-size:7px;color:#8a8b8a;margin-top:2px;letter-spacing:.03em}

#hud-right{display:flex;align-items:center;gap:12px;flex-shrink:0}
.hud-gold{font-size:13px;font-weight:700;letter-spacing:-.01em}
.hud-gold::before{content:'◆ ';font-size:9px;color:#8a8b8a;margin-right:1px}
.hud-pot{font-size:9px;color:#6a6b6a;letter-spacing:.04em}
.hud-pot::before{content:'⬜ ';font-size:8px}
.hud-btn{padding:6px 10px;font-size:13px;border:1.5px solid #48494b;line-height:1}

/* ═══════════════════════ DIALOGUE ═══════════════════════ */
.dialogue{
  position:absolute;
  bottom:70px;
  left:50%;transform:translateX(-50%);
  background:#e3e5e4;
  border:1.5px solid #48494b;
  max-width:500px;width:94%;
  z-index:20;
  box-shadow:0 4px 20px rgba(0,0,0,0.25);
}
.dlg-inner{display:flex;gap:14px;padding:14px 18px}
.dlg-portrait{flex-shrink:0}
.dlg-portrait canvas{image-rendering:pixelated;width:44px;height:44px;display:block;border:1px solid #ddd}
.dlg-text-area{flex:1;min-width:0}
.dlg-speaker{font-size:8px;letter-spacing:.22em;color:#8a8b8a;text-transform:uppercase;margin-bottom:7px;font-weight:700}
.dlg-text{font-size:11px;line-height:2;white-space:pre-wrap;color:#2a2b2c}
.dlg-footer{display:flex;justify-content:space-between;margin-top:8px;align-items:center;padding-top:6px;border-top:1px solid #eee}
.dlg-page{font-size:8px;color:#aaa}
.dlg-prompt{font-size:8px;color:#aaa;letter-spacing:.1em;animation:blink 1.2s step-end infinite}
@keyframes blink{50%{opacity:0}}

/* ═══════════════════════ OVERLAY (MENU) ═══════════════════════ */
.overlay{
  position:absolute;inset:0;
  background:rgba(227,229,228,.98);
  z-index:30;
  overflow-y:auto;
  backdrop-filter:blur(6px);
}

/* Menu */
.menu-wrap{max-width:600px;margin:0 auto;padding:0 0 80px}
.menu-header{
  display:flex;align-items:center;justify-content:space-between;
  border-bottom:1.5px solid #48494b;
  padding:12px 20px;
  background:rgba(227,229,228,.98);
  position:sticky;top:0;z-index:1;
}
.menu-tabs{display:flex;gap:3px}
.menu-tab{
  border:1px solid #ddd;
  padding:7px 14px;
  font-size:8px;letter-spacing:.12em;
  background:#e3e5e4;color:#8a8b8a;
  cursor:pointer;transition:all 80ms;
}
.menu-tab:hover{border-color:#48494b;color:#48494b}
.menu-tab.active{background:#48494b;color:#e3e5e4;border-color:#48494b}

.menu-gold-bar{
  padding:10px 20px;
  font-size:12px;font-weight:700;
  border-bottom:1px solid #eee;
  background:#f8f8f7;
  letter-spacing:.04em;
}
.menu-gold-bar::before{content:'◆ ';font-size:9px;color:#8a8b8a}

.menu-content{padding:20px}
.menu-tab-content{display:none}

/* Inventory */
.inv-row{
  display:flex;align-items:flex-start;gap:12px;
  border:1px solid #eee;padding:12px;
  margin-bottom:8px;
  transition:background 60ms;
}
.inv-row:hover{background:#f8f8f7}
.inv-icon{font-size:20px;flex-shrink:0;width:32px;text-align:center;line-height:1.4}
.inv-info{flex:1;min-width:0}
.inv-name{font-size:10px;font-weight:700;margin-bottom:3px}
.inv-desc{font-size:8px;color:#8a8b8a;line-height:1.8;margin-bottom:3px}
.inv-passive{font-size:8px;color:#5a5b5a;letter-spacing:.04em}
.inv-passive::before{content:'◉ ';color:#8a8b8a}
.btn-use{padding:6px 12px;font-size:8px}
.inv-empty{padding:40px;text-align:center;color:#bbb;font-size:10px}

/* Quests */
.q-section-title{
  font-size:8px;letter-spacing:.22em;color:#8a8b8a;
  text-transform:uppercase;
  margin:14px 0 10px;
  padding-bottom:5px;
  border-bottom:1px solid #eee;
}
.q-entry{border:1px solid #eee;padding:12px 14px;margin-bottom:8px;transition:background 60ms}
.q-entry.active{border-color:#48494b;background:#fafafa}
.q-entry.done{opacity:.35}
.q-name{font-size:11px;font-weight:700;margin-bottom:4px}
.q-desc{font-size:9px;color:#48494b;margin-bottom:5px;font-weight:700;letter-spacing:.04em}
.q-lore{font-size:8px;color:#8a8b8a;font-style:italic;line-height:1.8;margin-bottom:8px}
.q-steps{font-size:9px;color:#8a8b8a;line-height:2.1}
.q-empty{padding:40px;text-align:center;color:#bbb;font-size:10px}

/* Party status */
.party-card{
  display:flex;gap:14px;
  border:1px solid #eee;padding:12px 14px;
  margin-bottom:10px;
  transition:background 60ms;
}
.party-card:hover{background:#fafafa}
.party-card canvas{image-rendering:pixelated;flex-shrink:0;border:1px solid #eee}
.pc-info{flex:1;min-width:0}
.pc-name{font-size:11px;font-weight:700}
.pc-type{font-size:8px;color:#8a8b8a;font-weight:400;letter-spacing:.06em}
.pc-level{font-size:8px;color:#8a8b8a;margin-top:3px}
.pc-stats{font-size:8px;color:#48494b;margin-top:6px;line-height:2}
.pc-moves{font-size:8px;color:#8a8b8a;margin-top:3px;line-height:1.9;font-style:italic}
.pc-bar-row{display:flex;gap:4px;margin-top:4px;align-items:center}
.pc-bar-label{font-size:7px;color:#aaa;width:18px}
.pc-bar-track{flex:1;height:3px;background:#eee}
.pc-bar-fill-hp{height:100%;background:#48494b}
.pc-bar-fill-mp{height:100%;background:#aaa}

/* Journal */
.journal-entry{
  font-size:9px;color:#8a8b8a;
  line-height:2;
  padding:8px 0;
  border-bottom:1px solid #f0f0f0;
}
.journal-entry:first-child{color:#48494b;font-weight:700}
.journal-empty{padding:40px;text-align:center;color:#bbb;font-size:10px;font-style:italic}

/* ═══════════════════════ SHOP ═══════════════════════ */
.shop-wrap{max-width:500px;margin:0 auto;padding:0 0 80px}
.shop-header{
  display:flex;align-items:center;justify-content:space-between;
  padding:12px 20px;
  border-bottom:1.5px solid #48494b;
  position:sticky;top:0;background:#e3e5e4;z-index:1;
}
.shop-title{font-size:11px;font-weight:700;letter-spacing:.1em}
.shop-gold{font-size:11px;font-weight:700}
.shop-gold::before{content:'◆ ';font-size:9px;color:#8a8b8a}
.shop-items{padding:20px}
.shop-row{
  display:flex;align-items:center;gap:10px;
  border:1px solid #eee;padding:12px;
  margin-bottom:8px;
  transition:background 60ms;
}
.shop-row:hover{background:#fafafa}
.shop-icon{font-size:20px;width:32px;flex-shrink:0;text-align:center}
.shop-name{font-size:10px;font-weight:700;width:130px;flex-shrink:0}
.shop-desc{font-size:8px;color:#8a8b8a;flex:1;min-width:0;line-height:1.7}
.shop-price{font-size:10px;font-weight:700;flex-shrink:0;width:40px;text-align:right}
.btn-buy{padding:6px 12px;font-size:8px;flex-shrink:0}

/* ═══════════════════════ BATTLE ═══════════════════════ */
.battle-wrap{max-width:660px;margin:0 auto;padding:20px 20px 80px}

.bat-header{
  display:flex;justify-content:space-between;align-items:flex-start;
  margin-bottom:14px;
}
.bat-zone{font-size:8px;letter-spacing:.22em;color:#8a8b8a}
.bat-title{font-size:24px;font-weight:700;letter-spacing:-.03em}
.bat-round{font-size:9px;color:#8a8b8a;letter-spacing:.08em}

.arena{
  border:1.5px solid #48494b;
  padding:16px 20px;
  margin-bottom:10px;
  display:flex;align-items:flex-end;justify-content:space-between;
  gap:20px;min-height:130px;
  background:#f5f5f4;
  position:relative;overflow:hidden;
}
.bat-party{display:flex;gap:8px;align-items:flex-end;flex-wrap:wrap;flex:1}
.arena-vs{font-size:11px;font-weight:700;color:#ccc;flex-shrink:0}
.bat-enemy-wrap{text-align:right;flex-shrink:0}
#enemy-canvas{display:block;margin-left:auto;image-rendering:pixelated}
.enemy-name{font-size:11px;font-weight:700;margin-top:5px;letter-spacing:.02em}
.enemy-hp-text{font-size:8px;color:#8a8b8a;margin-top:1px}
.enemy-bar-track{height:3px;background:#ddd;margin-top:4px;width:80px;margin-left:auto}
.enemy-hp-bar{height:100%;background:#48494b;transition:width .3s}

.enemy-lore{
  font-size:9px;color:#8a8b8a;
  font-style:italic;
  margin-bottom:10px;
  line-height:1.8;
  padding:10px 14px;
  border:1px solid #eee;
  background:#fafafa;
}

.bnorm{
  text-align:center;flex:1;min-width:44px;max-width:76px;
  position:relative;transition:opacity .2s;
}
.bnorm.dead{opacity:.06}
.bnorm.active::after{
  content:'';position:absolute;
  inset:-4px;
  border:1.5px solid #48494b;
  pointer-events:none;
}
.bnorm canvas{display:block;margin:0 auto;image-rendering:pixelated;width:40px;height:40px}
.bnorm-name{font-size:7px;color:#8a8b8a;margin-top:3px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
.bnorm-type{font-size:7px;color:#aaa}
.bnorm-bar-wrap{height:2px;background:#eee;margin:2px 0}
.bnorm-bar-hp{height:100%;background:#48494b;transition:width .2s}
.bnorm-bar-mp{height:100%;background:#aaa;transition:width .2s}
.bnorm-hp{font-size:7px;color:#aaa}

.bat-log{
  border:1px solid #eee;
  height:80px;overflow-y:auto;
  padding:8px 12px;
  margin-bottom:12px;
  font-size:10px;line-height:2;
  background:#fafafa;
}
.bat-log::-webkit-scrollbar{width:2px}
.bat-log::-webkit-scrollbar-thumb{background:#ddd}
.log-normal{color:#8a8b8a}
.log-em{color:#48494b}
.log-big{color:#2a2b2c;font-weight:700}
.log-crit{color:#1a1b1c;font-weight:700;letter-spacing:.06em}
.log-lore{color:#aaa;font-style:italic;font-size:9px}

.bat-actions{display:flex;flex-direction:column;gap:8px}
.bat-action-label{
  font-size:8px;color:#8a8b8a;
  letter-spacing:.08em;
  overflow:hidden;white-space:nowrap;text-overflow:ellipsis;
  padding:4px 0;
}
.bat-btns{display:flex;gap:6px;flex-wrap:wrap}
.bat-btn{
  font-family:'Space Mono',monospace;
  font-size:9px;font-weight:700;
  letter-spacing:.08em;
  border:1.5px solid #48494b;
  padding:10px 14px;
  cursor:pointer;
  background:#48494b;color:#e3e5e4;
  transition:background 60ms,transform 60ms;
  flex:1;min-width:64px;text-align:center;
}
.bat-btn small{font-size:7px;font-weight:400;display:block;margin-top:2px;opacity:.7}
.bat-btn.ghost{background:#e3e5e4;color:#48494b}
.bat-btn:hover:not(:disabled){background:#2a2b2c;color:#e3e5e4}
.bat-btn:active:not(:disabled){transform:translateY(1px)}
.bat-btn:disabled{background:#eee;color:#bbb;border-color:#ddd;cursor:default}

.bat-result{
  text-align:center;padding:70px 20px;
  display:flex;flex-direction:column;align-items:center;
}
.result-title{font-size:40px;font-weight:700;letter-spacing:-.04em;margin-bottom:8px}
.result-sub{font-size:10px;color:#8a8b8a;margin-bottom:6px}
.result-gold{font-size:15px;font-weight:700;margin-bottom:32px;letter-spacing:.04em}
.result-btns{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}

/* Float damage */
.fdmg{
  position:absolute;
  font-size:14px;font-weight:700;
  pointer-events:none;
  animation:floatUp .8s ease forwards;
  z-index:5;
  font-family:'Space Mono',monospace;
  color:#2a2b2c;
  text-shadow:0 1px 4px rgba(255,255,255,0.8);
}
.fdmg.crit-flash{color:#1a1b1c;font-size:18px}
@keyframes floatUp{
  0%{opacity:1;transform:translateY(0)}
  100%{opacity:0;transform:translateY(-52px)}
}

/* ═══════════════════════ ENDING ═══════════════════════ */
#screen-ending{background:#1a1b1c}
#screen-ending.active{display:flex;align-items:center;justify-content:center}

.ending-inner{
  max-width:520px;padding:70px 32px;
  text-align:center;color:#e3e5e4;
}
.ending-chapter{font-size:8px;letter-spacing:.35em;color:#5a5b5a;margin-bottom:18px}
.ending-title{font-size:30px;font-weight:700;letter-spacing:-.03em;margin-bottom:22px}
.ending-text{font-size:11px;line-height:2.2;color:#9a9b9a;font-style:italic;margin-bottom:32px}
.ending-stats{font-size:9px;color:#6a6b6a;margin-bottom:40px;display:flex;flex-direction:column;gap:6px;letter-spacing:.06em}
.ending-inner .btn-primary{background:#c8c9c8;color:#1a1b1c;border-color:#c8c9c8}

/* ═══════════════════════ SCROLLBARS ═══════════════════════ */
::-webkit-scrollbar{width:3px;height:3px}
::-webkit-scrollbar-thumb{background:#aaa}
::-webkit-scrollbar-track{background:transparent}

/* ═══════════════════════ WALLET UI ═══════════════════════ */
.wallet-help{
  font-size:10px;color:#c55;line-height:1.9;
  margin-bottom:14px;
  padding:10px 14px;
  border:1px solid #fcc;
  background:#fff8f8;
}
.wallet-help a{color:#48494b;text-decoration:underline}

.wallet-picker-overlay{
  position:fixed;inset:0;
  background:rgba(0,0,0,0.55);
  z-index:200;
  display:flex;align-items:center;justify-content:center;
}
.wallet-picker{
  background:#e3e5e4;
  border:1.5px solid #48494b;
  padding:28px 24px;
  min-width:240px;
  text-align:center;
  box-shadow:0 8px 32px rgba(0,0,0,0.3);
}
.wp-title{font-size:8px;letter-spacing:.24em;text-transform:uppercase;color:#8a8b8a;margin-bottom:18px}
.wp-btn{display:block;width:100%;margin-bottom:8px;padding:11px 16px;font-size:10px}
.wp-cancel{display:block;margin:10px auto 0;font-size:9px;color:#aaa;background:none;border:none;cursor:pointer;letter-spacing:.1em}
.wp-cancel:hover{color:#48494b}

/* ═══════════════════════ RESPONSIVE ═══════════════════════ */
@media (max-width:600px){
  .party-top{padding:16px 14px 14px}
  .party-bottom{padding:14px 14px 40px}
  .party-title{font-size:18px}
  .normie-grid{grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:6px}
  .ncard canvas{width:40px!important;height:40px!important}
  .battle-wrap{padding:12px 12px 70px}
  .arena{min-height:100px;padding:10px 12px}
  .bat-title{font-size:18px}
  .result-title{font-size:30px}
  .title-inner{padding:36px 20px}
  #logo-canvas{width:260px;height:87px}
}

@media (max-height:600px){
  .party-top{padding:12px 20px 10px}
  .party-bottom{padding:12px 20px 30px}
}
